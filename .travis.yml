language: ruby
rvm:
  - 2.3
script:
  - gem build cfhighlander.gemspec
  - gem install cfhighlander-*.gem
  - which cfhighlander && cfhighlander help
  - bundle exec rspec
deploy:
  provider: rubygems
  api_key: "${RUBYGEMS_API_KEY}"
  on:
   all_branches: true
   condition: $TRAVIS_BRANCH =~ ^develop|master &&  $TRAVIS_EVENT_TYPE =~ ^push|api$